# This config is for the semgrep-network-broker relay command
#
# You can test this out by:
# 1. Running `semgrep-network-broker relay -c examples/github-pr-comment-relay.yaml`
# 2. Create a webhook subscription for pull_request_review_comment events to http://broker-ip:8080/relay/github-pr-comments
# 3. Triage a semgrep finding via PR comment
#

outbound:
  listenPort: 8080
  relay:
    github-pr-comments:
      destinationUrl: https://semgrep.dev/api/webhook
      jsonPath: "$.comment.body"
      hasPrefix:
      - "/semgrep"
      # it is also possible to support only a subset of available commands; for example, you could remove the line
      # above and uncomment the line below to remove support for re-opening issues through PR review comments, while
      # still allowing them to be ignored:
      # - "/semgrep ignore"
